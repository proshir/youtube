{% extends 'base.html' %}

{% block content %}
  <h1 class="text-center my-4">Upload Video</h1>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-group">
      <label for="topic">Title</label>
      <input type="text" class="form-control" id="topic" name="topic" required>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea class="form-control" id="description" name="description" rows="3"></textarea>
    </div>
    <div class="form-group">
      <label>Video</label>
      <div class="custom-file">
        <input type="file" class="custom-file-input" id="video" name="video" accept="video/*" required>
        <label class="custom-file-label" for="video">Choose file...</label>
      </div>
    </div>
    <div class="form-group">
      <label>Thumbnail</label>
      <div class="custom-file">
        <input type="file" class="custom-file-input" id="thumbnail" name="thumbnail" accept="image/*" required>
        <label class="custom-file-label" for="thumbnail">Choose file...</label>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
  </form>
  <script>
    // Display selected file name for video input field
    const videoInput = document.getElementById('video');
    const videoInputLabel = document.querySelector('label[for="video"]');
    videoInput.addEventListener('change', () => {
      const filename = videoInput.files[0].name;
      videoInputLabel.innerText = filename;
    });

    // Display selected file name for thumbnail input field
    const thumbnailInput = document.getElementById('thumbnail');
    const thumbnailInputLabel = document.querySelector('label[for="thumbnail"]');
    thumbnailInput.addEventListener('change', () => {
      const filename = thumbnailInput.files[0].name;
      thumbnailInputLabel.innerText = filename;
    });
  </script>
  <style>
    .custom-file-label::after {
    content: "Browse";
    }

    .custom-file-input:focus~.custom-file-label {
        border-color: #80bdff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    .custom-file-label::after {
        content: "Browse";
    }

    .custom-file-input:focus~.custom-file-label {
        border-color: #80bdff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

  </style>
{% endblock %}
